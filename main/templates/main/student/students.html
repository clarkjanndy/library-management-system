{% extends 'app.html'%}

{% load static %}
{% load extras %}

{% block content%}
{% include 'sidebar.html' %}

<!-- Start Page Content -->
<div class="col-12 col-sm-9 col-md-9 col-lg-10 col-xl-10 d-flex flex-column vh-100">
    <main class=" row overflow-auto p-3">
        <h3 class="text-theme">Students</h3>

        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">Students</li>
            </ol>
        </nav>

        <div class="row">



            {% if messages %}
            {% for message in messages %}
            {% include 'alert.html' %}
            {% endfor %}
            {% endif %}

            <div class="shadow bg-light p-3">

                <div class="d-flex justify-content-start mb-3">
                    <a class="btn btn-theme" href="/students/add"><span class="bx bx-plus"></span> Add Student</a>
                </div>
                <div class="table-responsive">

                    <table class="table table-striped   nowrap" id="students">
                        <thead class="bg-theme text-white">
                            <tr>
                                <th scope="col">ID No.</th>
                                <th scope="col">Name</th>
                                <th scope="col">Contact #</th>
                                <th scope="col">Address</th>
                                <th scope="col">Course</th>
                                <th scope="col">- - -</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for student in students %}
                            <tr>
                                <td scope="row">{{student.user.id_no}}</td>
                                <td>{{student.user.first_name}} {{student.user.middle_name}} {{student.user.last_name}}
                                    {{student.myuser.ext_name}}
                                </td>
                                <td>{{student.user.contact_no}}</td>
                                <td>{{student.user.address}}</td>
                                <td>{{student.course|abbreviate}}</td>
                                <td>
                                    <a class="btn btn-sm btn-success" href="students/{{student.user.id_no}}"><span
                                            class="bx bx-face"></span> View Profile</a>
                                </td>

                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

        </div>

    </main>
</div>
<!-- End Page Content -->

<script>
    $('#students').dataTable({
        "ordering": false,
        // "columns": [
        //     { "width": "10%" },
        //     { "width": "30%" },
        //     null,
        //     null,
        //     null,
        //     { "width": "10%" }
        // ]
    });
</script>

{%endblock content%}